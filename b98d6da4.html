<!DOCTYPE html><html lang="ja"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><meta name="description" content="グラフィックスプログラミング関連技術についての覚え書き"/><script type="text/javascript" src="./static/js/mathjax.js"></script><script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><title>2点間の直線距離 | みさご解体新書</title><meta name="next-head-count" content="6"/><link rel="preload" href="/misago/_next/static/css/5a4652fcbd4b2988c37d.css" as="style"/><link rel="stylesheet" href="/misago/_next/static/css/5a4652fcbd4b2988c37d.css" data-n-g=""/><link rel="preload" href="/misago/_next/static/css/8fe665809469eaa4758c.css" as="style"/><link rel="stylesheet" href="/misago/_next/static/css/8fe665809469eaa4758c.css" data-n-p=""/><noscript data-n-css=""></noscript><link rel="preload" href="/misago/_next/static/chunks/webpack-10212eba32171b69884e.js" as="script"/><link rel="preload" href="/misago/_next/static/chunks/framework-5e33f488d9410ce9ba9d.js" as="script"/><link rel="preload" href="/misago/_next/static/chunks/commons-0eb77dffc78e853367f4.js" as="script"/><link rel="preload" href="/misago/_next/static/chunks/main-9df632ddde6a6de70513.js" as="script"/><link rel="preload" href="/misago/_next/static/chunks/pages/_app-4fd64119740982aeb182.js" as="script"/><link rel="preload" href="/misago/_next/static/chunks/996-d5592fd6046c4c10259c.js" as="script"/><link rel="preload" href="/misago/_next/static/chunks/pages/%5Bslug%5D-dfbaacdc33ce31dd9998.js" as="script"/></head><body class="bg-bg-color"><div id="__next"><div class="min-h-screen bg-bg-color text-white"><main><div class="container mx-auto max-w-full"><h2 class="bg-gray-700 font-index text-lg text-gray-300 py-7 px-7"><a href="/misago">みさご解体新書</a></h2><article class="py-20"><h1 class="font-index text-3xl font-bold mb-16 text-center">2点間の直線距離</h1><div class="max-w-4xl mx-auto"><div class="markdown-styles_markdown__1x9gM"><h2>解説/アルゴリズム</h2>
<p>何かの直線距離を求めるという行為はアニメーションの中で最も利用される計算かもしれません。<br>
たとえばオブジェクト同士の距離に応じて、色や大きさが変わるなどの手法はよく利用されます。<br>
その他、衝突しているかの判定でも利用されます。</p>
<h3>一次元での直線距離</h3>
<p>$|x_1-x_2|$</p>
<p>一次元、つまり数直線上にある $x_1$ と $x_2$ の直線距離は、2 点の差を取り符号を外したものです。<br>
絶対値を取るので値の大小で結果は変わりません。</p>
<div class="remark-highlight"><pre class="language-typescript"><code class="language-typescript">Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>x1 <span class="token operator">-</span> x2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<div class="remark-highlight"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token function">dist</span><span class="token punctuation">(</span>x1<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> x2<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>x1 <span class="token operator">-</span> x2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">dist</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 7</span>
<span class="token function">dist</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 7</span>
</code></pre></div>
<h3>二次元での直線距離/二点間距離</h3>
<p>座標平面上の 2 点 $A(x_1, y_1), B(x_2, y_2)$ 間の距離を求めます。<br>
$x_1 \neq x_2, y_1 \neq y_2$ のとき、$(x_1, y_2)$ を点 C とすると、<br>
$\triangle ACB$ は直角三角形になるので、三平方の定理を使用すると、
$AB = \sqrt{AC^2+BC^2}$ になります。</p>
<p>さらに、<br>
$AC^2=|x_2-x_1|^2=(x_2-x_1)^2$<br>
$BC^2=|y_2-y_1|^2=(y_2-y_1)^2$<br>
であるから、先ほどの式に代入すると、<br>
$AB = \sqrt{(x_2-x_1)^2+(y_2-y_1)^2}$ になり、 $x_1 = x_2$ または $y_1 = y_2$ のときも同様です。</p>
<div class="remark-highlight"><pre class="language-typescript"><code class="language-typescript">Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token punctuation">(</span>x1 <span class="token operator">-</span> x2<span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token punctuation">(</span>y1 <span class="token operator">-</span> y2<span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<div class="remark-highlight"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token function">dist</span><span class="token punctuation">(</span>x1<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y1<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> x2<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y2<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token punctuation">(</span>x1 <span class="token operator">-</span> x2<span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token punctuation">(</span>y1 <span class="token operator">-</span> y2<span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">dist</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 14.142135623730951</span>
<span class="token function">dist</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10</span>
<span class="token function">dist</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
</code></pre></div>
<h3>三次元での直線距離</h3>
<p>$AB$ の長さを求めるために、まず $\triangle ABC$ に三平方の定理を使用すると、<br>
$AB^2 = BC^2 + c^2$</p>
<p>この $BC^2$ は $\triangle BCD$ に三平方の定理を使用すると、 $BC^2 = a^2 + b^2$ ということが分かりますから、上の式に代入すると、<br>
$AB^2 = a^2 + b^2 + c^2$</p>
<p>両辺の平方根を取ると、<br>
$AB = \sqrt{a^2+b^2+c^2}$</p>
<p>この $a,b,c$ は軸ごとの差でありますから、<br>
$AB = \sqrt{(x_1-x_2)^2+(y_1-y_2)^2+(z_1-z_2)^2}$</p>
<p>つまり、二次元の場合と同じように、軸ごとに差の二乗を取り、総和を計算すれば 2 点間距離が求まります。</p>
<div class="remark-highlight"><pre class="language-typescript"><code class="language-typescript">Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token punctuation">(</span>x1 <span class="token operator">-</span> x2<span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token punctuation">(</span>y1 <span class="token operator">-</span> y2<span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token punctuation">(</span>z1 <span class="token operator">-</span> z2<span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<div class="remark-highlight"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token function">dist</span><span class="token punctuation">(</span>
  x1<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  y1<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  z1<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  x2<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  y2<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  z2<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token punctuation">(</span>x1 <span class="token operator">-</span> x2<span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token punctuation">(</span>y1 <span class="token operator">-</span> y2<span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token punctuation">(</span>z1 <span class="token operator">-</span> z2<span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">dist</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 17.320508075688775</span>
<span class="token function">dist</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10</span>
<span class="token function">dist</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
</code></pre></div>
<h3>ループ対応</h3>
<p><a href="/d6bf8d61/">2 点間距離（ループ対応）</a><br>
画面の左端から出ると右端から出てくるように、ループで繋がっている環境での 2 点間距離の計算方法です。</p>
</div></div></article></div></main></div><footer class="bg-gray-700 text-gray-300"><div class="container mx-auto max-w-full"><div class="py-12 flex flex-col items-center"><h3 class="text-base text-center">miku / BAROQUE ENGINE</h3></div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"2点間の直線距離","slug":"b98d6da4","content":"\u003ch2\u003e解説/アルゴリズム\u003c/h2\u003e\n\u003cp\u003e何かの直線距離を求めるという行為はアニメーションの中で最も利用される計算かもしれません。\u003cbr\u003e\nたとえばオブジェクト同士の距離に応じて、色や大きさが変わるなどの手法はよく利用されます。\u003cbr\u003e\nその他、衝突しているかの判定でも利用されます。\u003c/p\u003e\n\u003ch3\u003e一次元での直線距離\u003c/h3\u003e\n\u003cp\u003e$|x_1-x_2|$\u003c/p\u003e\n\u003cp\u003e一次元、つまり数直線上にある $x_1$ と $x_2$ の直線距離は、2 点の差を取り符号を外したものです。\u003cbr\u003e\n絶対値を取るので値の大小で結果は変わりません。\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-typescript\"\u003e\u003ccode class=\"language-typescript\"\u003eMath\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eabs\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ex1 \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e x2\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-typescript\"\u003e\u003ccode class=\"language-typescript\"\u003e\u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003edist\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ex1\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003enumber\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e x2\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003enumber\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003enumber\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e Math\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eabs\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ex1 \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e x2\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token function\"\u003edist\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e10\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e3\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// 7\u003c/span\u003e\n\u003cspan class=\"token function\"\u003edist\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e3\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e10\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// 7\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch3\u003e二次元での直線距離/二点間距離\u003c/h3\u003e\n\u003cp\u003e座標平面上の 2 点 $A(x_1, y_1), B(x_2, y_2)$ 間の距離を求めます。\u003cbr\u003e\n$x_1 \\neq x_2, y_1 \\neq y_2$ のとき、$(x_1, y_2)$ を点 C とすると、\u003cbr\u003e\n$\\triangle ACB$ は直角三角形になるので、三平方の定理を使用すると、\n$AB = \\sqrt{AC^2+BC^2}$ になります。\u003c/p\u003e\n\u003cp\u003eさらに、\u003cbr\u003e\n$AC^2=|x_2-x_1|^2=(x_2-x_1)^2$\u003cbr\u003e\n$BC^2=|y_2-y_1|^2=(y_2-y_1)^2$\u003cbr\u003e\nであるから、先ほどの式に代入すると、\u003cbr\u003e\n$AB = \\sqrt{(x_2-x_1)^2+(y_2-y_1)^2}$ になり、 $x_1 = x_2$ または $y_1 = y_2$ のときも同様です。\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-typescript\"\u003e\u003ccode class=\"language-typescript\"\u003eMath\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003esqrt\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ex1 \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e x2\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e**\u003c/span\u003e \u003cspan class=\"token number\"\u003e2\u003c/span\u003e \u003cspan class=\"token operator\"\u003e+\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ey1 \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e y2\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e**\u003c/span\u003e \u003cspan class=\"token number\"\u003e2\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-typescript\"\u003e\u003ccode class=\"language-typescript\"\u003e\u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003edist\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ex1\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003enumber\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e y1\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003enumber\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e x2\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003enumber\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e y2\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003enumber\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003enumber\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e Math\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003esqrt\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ex1 \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e x2\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e**\u003c/span\u003e \u003cspan class=\"token number\"\u003e2\u003c/span\u003e \u003cspan class=\"token operator\"\u003e+\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ey1 \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e y2\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e**\u003c/span\u003e \u003cspan class=\"token number\"\u003e2\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token function\"\u003edist\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e10\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e10\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e20\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e20\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// 14.142135623730951\u003c/span\u003e\n\u003cspan class=\"token function\"\u003edist\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e10\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e10\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e20\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e10\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// 10\u003c/span\u003e\n\u003cspan class=\"token function\"\u003edist\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e10\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e10\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e10\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e10\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// 0\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch3\u003e三次元での直線距離\u003c/h3\u003e\n\u003cp\u003e$AB$ の長さを求めるために、まず $\\triangle ABC$ に三平方の定理を使用すると、\u003cbr\u003e\n$AB^2 = BC^2 + c^2$\u003c/p\u003e\n\u003cp\u003eこの $BC^2$ は $\\triangle BCD$ に三平方の定理を使用すると、 $BC^2 = a^2 + b^2$ ということが分かりますから、上の式に代入すると、\u003cbr\u003e\n$AB^2 = a^2 + b^2 + c^2$\u003c/p\u003e\n\u003cp\u003e両辺の平方根を取ると、\u003cbr\u003e\n$AB = \\sqrt{a^2+b^2+c^2}$\u003c/p\u003e\n\u003cp\u003eこの $a,b,c$ は軸ごとの差でありますから、\u003cbr\u003e\n$AB = \\sqrt{(x_1-x_2)^2+(y_1-y_2)^2+(z_1-z_2)^2}$\u003c/p\u003e\n\u003cp\u003eつまり、二次元の場合と同じように、軸ごとに差の二乗を取り、総和を計算すれば 2 点間距離が求まります。\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-typescript\"\u003e\u003ccode class=\"language-typescript\"\u003eMath\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003esqrt\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ex1 \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e x2\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e**\u003c/span\u003e \u003cspan class=\"token number\"\u003e2\u003c/span\u003e \u003cspan class=\"token operator\"\u003e+\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ey1 \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e y2\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e**\u003c/span\u003e \u003cspan class=\"token number\"\u003e2\u003c/span\u003e \u003cspan class=\"token operator\"\u003e+\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ez1 \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e z2\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e**\u003c/span\u003e \u003cspan class=\"token number\"\u003e2\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-typescript\"\u003e\u003ccode class=\"language-typescript\"\u003e\u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003edist\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\n  x1\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003enumber\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  y1\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003enumber\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  z1\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003enumber\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  x2\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003enumber\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  y2\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003enumber\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  z2\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003enumber\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003enumber\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e Math\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003esqrt\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ex1 \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e x2\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e**\u003c/span\u003e \u003cspan class=\"token number\"\u003e2\u003c/span\u003e \u003cspan class=\"token operator\"\u003e+\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ey1 \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e y2\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e**\u003c/span\u003e \u003cspan class=\"token number\"\u003e2\u003c/span\u003e \u003cspan class=\"token operator\"\u003e+\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ez1 \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e z2\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e**\u003c/span\u003e \u003cspan class=\"token number\"\u003e2\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token function\"\u003edist\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e10\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e10\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e10\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e20\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e20\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e20\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// 17.320508075688775\u003c/span\u003e\n\u003cspan class=\"token function\"\u003edist\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e10\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e10\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e10\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e20\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e10\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e10\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// 10\u003c/span\u003e\n\u003cspan class=\"token function\"\u003edist\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e10\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e10\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e10\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e10\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e10\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e10\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// 0\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch3\u003eループ対応\u003c/h3\u003e\n\u003cp\u003e\u003ca href=\"/d6bf8d61/\"\u003e2 点間距離（ループ対応）\u003c/a\u003e\u003cbr\u003e\n画面の左端から出ると右端から出てくるように、ループで繋がっている環境での 2 点間距離の計算方法です。\u003c/p\u003e\n"}},"__N_SSG":true},"page":"/[slug]","query":{"slug":"b98d6da4"},"buildId":"ywAL6TRXikgvTcEnyXwBO","assetPrefix":"/misago","isFallback":false,"gsp":true}</script><script nomodule="" src="/misago/_next/static/chunks/polyfills-8683bd742a84c1edd48c.js"></script><script src="/misago/_next/static/chunks/webpack-10212eba32171b69884e.js" async=""></script><script src="/misago/_next/static/chunks/framework-5e33f488d9410ce9ba9d.js" async=""></script><script src="/misago/_next/static/chunks/commons-0eb77dffc78e853367f4.js" async=""></script><script src="/misago/_next/static/chunks/main-9df632ddde6a6de70513.js" async=""></script><script src="/misago/_next/static/chunks/pages/_app-4fd64119740982aeb182.js" async=""></script><script src="/misago/_next/static/chunks/996-d5592fd6046c4c10259c.js" async=""></script><script src="/misago/_next/static/chunks/pages/%5Bslug%5D-dfbaacdc33ce31dd9998.js" async=""></script><script src="/misago/_next/static/ywAL6TRXikgvTcEnyXwBO/_buildManifest.js" async=""></script><script src="/misago/_next/static/ywAL6TRXikgvTcEnyXwBO/_ssgManifest.js" async=""></script></body></html>