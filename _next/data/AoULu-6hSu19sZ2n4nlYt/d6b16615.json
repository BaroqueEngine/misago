{"pageProps":{"post":{"title":"パーセンテージ指定による確率判定","slug":"d6b16615","content":"<h2>コード例</h2>\n<pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">percent</span><span class=\"token punctuation\">(</span>value<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">100</span> <span class=\"token operator\">&lt;</span> value<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> percent <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./random\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 47%の確率でtrueが返る。</span>\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">percent</span><span class=\"token punctuation\">(</span><span class=\"token number\">47</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<h2>ソースコード</h2>\n<p><a href=\"./static/code/d6b16615/random.ts\">random.ts</a> / <a href=\"./static/code/d6b16615/app.ts\">app.ts</a></p>\n<h2>解説/アルゴリズム</h2>\n<p><code>Math.random</code> の乱数の範囲は、 <code>0以上 1未満</code> になる。</p>\n<p>指定したいパーセンテージの範囲は 0 ～ 100(%) なので、乱数値と比較する前に、引数のパーセンテージ値を 100 で割る。</p>\n<p>パーセンテージ値の範囲が 0 ～ 1 になるので、 100 を掛けた乱数値と比較して結果を出す。</p>\n<p>関係演算子が <code>&lt;</code> なのは、 <code>&lt;=</code> だと 0(%) を指定したときに true が返る可能性があるから。</p>\n<p>100(%) を指定した場合でも、乱数は 1 を返すことはないので <code>&lt;</code> の比較で結果は必ず true になる。</p>\n<h2>内部で利用しているアルゴリズム</h2>\n<p><a href=\"/e14deb99\">擬似乱数</a></p>\n"}},"__N_SSG":true}